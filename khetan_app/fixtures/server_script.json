[
 {
  "allow_guest": 0,
  "api_method": "weight",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-07 18:14:09.972524",
  "module": "khetan_app",
  "name": "Weight",
  "reference_doctype": null,
  "script": "a = frappe.form_dict[\"item\"]\r\rdata = frappe.db.sql(\"\"\"  select weight_special_customer from `tabItem` where name=%s \"\"\",a)\r\rlist = \"\"\rfor i in data:\r    for j in i:\r        if list == \"\":\r            list = j\r            \rfrappe.response[\"msg\"]=list",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "cus_name",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-07 18:14:09.954691",
  "module": "khetan_app",
  "name": "Customer Type Fetch",
  "reference_doctype": null,
  "script": "a = frappe.form_dict[\"cus_name\"]\rsubject = frappe.db.get_value('Customer', a, 'customer_group')\rfrappe.response[\"msg\"]=subject",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "inches",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-07 18:14:09.924138",
  "module": "khetan_app",
  "name": "fetch values to Quotation Item",
  "reference_doctype": null,
  "script": "a = frappe.form_dict[\"item_code\"]\r\rdata = frappe.db.sql(\"\"\"  select size from `tabItem` where name=%s \"\"\",a);\rgrade = frappe.db.get_value('Item', a, 'grade');\rshape_type = frappe.db.get_value('Item', a, 'shape_type');\rthickness = frappe.db.get_value('Item', a, 'thickness');\rcompany = frappe.db.get_value('Item', a, 'company');\r# default_set = frappe.db.get_value('Item', a, 'default_set');\rcolor = frappe.db.get_value('Item', a, 'color');\rproducts_type = frappe.db.get_value('Item', a, 'products_type');\ritem_type = frappe.db.get_value('Item', a, 'item_type');\rnormal_margin = frappe.db.get_value('Item', a, 'normal_margin');\rspecial_margin = frappe.db.get_value('Item', a, 'special_margin');\r# frappe.msgprint(color);\rlist = \"\"\rfor i in data:\r    for j in i:\r        if list == \"\":\r            list = j\r            \rfrappe.response[\"msg\"]=list\rfrappe.response[\"grade\"]=grade\rfrappe.response[\"shape_type\"]=shape_type\rfrappe.response[\"thickness\"]=thickness\rfrappe.response[\"company\"]=company\r# frappe.response[\"default_set\"]=default_set\rfrappe.response[\"color\"]=color\rfrappe.response[\"products_type\"]=products_type\rfrappe.response[\"item_type\"]=item_type\rfrappe.response[\"normal_margin\"]=normal_margin\rfrappe.response[\"special_margin\"]=special_margin",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "send_value",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-07 18:14:09.963575",
  "module": "khetan_app",
  "name": "Send Weight Difference in Quotation",
  "reference_doctype": null,
  "script": "a = frappe.form_dict[\"we_diff\"]\rfrappe.response[\"msg\"]=a",
  "script_type": "API"
 },
 {
  "_liked_by": "[\"jignasa.chavda@sanskartechnolab.in\"]",
  "allow_guest": 0,
  "api_method": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "After Save (Submitted Document)",
  "event_frequency": "All",
  "modified": "2023-02-07 18:14:09.891825",
  "module": "khetan_app",
  "name": "Split Intime and Outtime",
  "reference_doctype": "Attendance",
  "script": "in_time = str(doc.in_time)\nout_time = str(doc.out_time)\n\ntry:\n    new_in_time=in_time.split(\" \")[1:][0]\n    new_out_time=out_time.split(\" \")[1:][0]\nexcept IndexError:\n    new_in_time = ''\n    new_out_time = ''\n    \nfrappe.db.set_value('Attendance', doc.name, 'check_in_time', new_in_time);\nfrappe.db.set_value('Attendance', doc.name, 'check_out_time', new_out_time); \n",
  "script_type": "DocType Event"
 },
 {
  "_liked_by": "[\"jignasa.chavda@sanskartechnolab.in\"]",
  "allow_guest": 0,
  "api_method": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "After Submit",
  "event_frequency": "All",
  "modified": "2023-02-07 18:14:09.945798",
  "module": "khetan_app",
  "name": "Set Shifthours in Attendance",
  "reference_doctype": "Attendance",
  "script": "shift_name = doc.shift\nattendance_name = doc.name\n\nshift_Hour = frappe.db.get_value('Shift Type', shift_name, ['shift_hours'])\n\nfrappe.db.set_value('Attendance', attendance_name, 'shift_hours', shift_Hour)\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": "voucher_no",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-07 18:14:09.933619",
  "module": "khetan_app",
  "name": "voucher_no",
  "reference_doctype": null,
  "script": "a = frappe.form_dict[\"no\"]\n\n\nitem = frappe.db.sql(\"\"\" select item_code from `tabDelivery Note Item` where parent=%s \"\"\",a)\nqty = frappe.db.sql(\"\"\"  select qty from `tabDelivery Note Item` where parent=%s \"\"\",a)\nrate = frappe.db.sql(\"\"\"  select rate from `tabDelivery Note Item` where parent=%s \"\"\",a)\namount = frappe.db.sql(\"\"\"  select amount from `tabDelivery Note Item` where parent=%s \"\"\",a)\nstock_uom = frappe.db.sql(\"\"\"  select stock_uom from `tabDelivery Note Item` where parent=%s \"\"\",a)\nuom = frappe.db.sql(\"\"\"  select uom from `tabDelivery Note Item` where parent=%s \"\"\",a)\nitem_name = frappe.db.sql(\"\"\"  select item_name from `tabDelivery Note Item` where parent=%s \"\"\",a)\ndescription = frappe.db.sql(\"\"\"  select description from `tabDelivery Note Item` where parent=%s \"\"\",a)\nitem1 = \"\"\nfor i in item:\n    for j in i:\n        if item1 == \"\":\n            item1 = j\n        else:\n            item1 = item1 + \",\" + j\n            \n# frappe.msgprint(item1)\n \n\n\nqty1 = \"\"\nfor a in qty:\n    for b in a:\n        if qty1 == \"\":\n            qty1 = b\n        else:\n            qty1 = f'{qty1}{\",\"}{b}'\nqty2 = str(qty1)\n# frappe.msgprint(qty2)      \n            \nrate1 = \"\"\nfor c in rate:\n    for d in c:\n        if rate1 == \"\":\n            rate1 = d\n        else:\n            rate1 = f'{rate1}{\",\"}{d}'\nrate2 = str(rate1)           \n# frappe.msgprint(rate2)\n\n            \n            \namount1 = \"\"\nfor m in amount:\n    for n in m:\n        if amount1 == \"\":\n            amount1 = n\n        else:\n            amount1 = f'{amount1}{\",\"}{n}'\n            \namount2 =str(amount1)\n# frappe.msgprint(amount2)\n\n            \nstock_uom1 = \"\"\nfor y in stock_uom:\n    for x in y:\n        if stock_uom1 == \"\":\n            stock_uom1 = x\n        else:\n            stock_uom1 = f'{stock_uom1}{\",\"}{x}'\nstock_uom2 = str(stock_uom1)            \n# frappe.msgprint(stock_uom2)\n            \nuom1 = \"\"\nfor q in uom:\n    for p in q:\n        if uom1 == \"\":\n            uom1 = p\n        else:\n            uom1 = f'{uom1}{\",\"}{p}'\nuom2 = str(uom1)   \n# frappe.msgprint(uom2)\nitem_name1 = \"\"\nfor r in item_name:\n    for z in r:\n        if item_name1 == \"\":\n            item_name1 = z\n        else:\n            item_name1 = f'{item_name1}{\",\"}{z}'\n\ndescription1 = \"\"\nfor d in description:\n    for e in d:\n        if description1 == \"\":\n            description1 = e\n        else:\n            description1 = f'{description1}{\",\"}{e}'\n\n\n\nfrappe.response[\"item\"]=item1\nfrappe.response[\"qty\"] = qty2\nfrappe.response[\"rate\"] = rate2\nfrappe.response[\"amount\"] = amount2\nfrappe.response[\"stock_uom\"] = stock_uom2\nfrappe.response[\"uom\"] = uom2\nfrappe.response[\"item_name\"] = item_name1\nfrappe.response[\"description\"] = description1\n\n\n\n",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "bluster_price",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-07 18:14:09.910539",
  "module": "khetan_app",
  "name": "Fetch Bluster Value From DB",
  "reference_doctype": null,
  "script": "mpillar11202= frappe.db.get_value('Item Type', '1.1 Master Pillar 202', 'master_price');\nmpillar13202= frappe.db.get_value('Item Type', '1.3 Master Pillar 202', 'master_price');\nmpillar15202= frappe.db.get_value('Item Type', '1.5 Master Pillar 202', 'master_price');\nmpillar17202= frappe.db.get_value('Item Type', '1.7 Master Pillar 202', 'master_price');\nmpillar22202= frappe.db.get_value('Item Type', '2.2 Master Pillar 202', 'master_price');\n\nmpillar11304= frappe.db.get_value('Item Type', '1.1 Master Pillar 304', 'master_price');\nmpillar13304= frappe.db.get_value('Item Type', '1.3 Master Pillar 304', 'master_price');\nmpillar15304= frappe.db.get_value('Item Type', '1.5 Master Pillar 304', 'master_price');\nmpillar17304= frappe.db.get_value('Item Type', '1.7 Master Pillar 304', 'master_price');\nmpillar22304= frappe.db.get_value('Item Type', '2.2 Master Pillar 304', 'master_price');\n\nrbgm55202= frappe.db.get_value('Item Type', '550 Grm R Blustor 202', 'master_price');\nrbgm65202= frappe.db.get_value('Item Type', '650 Grm R Blustor 202', 'master_price');\nrbgm70202= frappe.db.get_value('Item Type', '700 Grm R Blustor 202', 'master_price');\nrbgm90202= frappe.db.get_value('Item Type', '900 Grm R Blustor 202', 'master_price');\nrbgm110202= frappe.db.get_value('Item Type', '1100 Grm R Blustor 202', 'master_price');\n\nrbgm55304= frappe.db.get_value('Item Type', '550 Grm R Blustor 304', 'master_price');\nrbgm65304= frappe.db.get_value('Item Type', '650 Grm R Blustor 304', 'master_price');\nrbgm70304= frappe.db.get_value('Item Type', '700 Grm R Blustor 304', 'master_price');\nrbgm90304= frappe.db.get_value('Item Type', '900 Grm R Blustor 304', 'master_price');\nrbgm110304= frappe.db.get_value('Item Type', '1100 Grm R Blustor 304', 'master_price');\n\nsqbgm70202= frappe.db.get_value('Item Type', '700 Grm Sq Blustor 202', 'master_price');\nsqbgm65202= frappe.db.get_value('Item Type', '800 Grm Sq Blustor 202', 'master_price');\nsqbgm90202= frappe.db.get_value('Item Type', '900 Grm Sq Blustor 202', 'master_price');\nsqbgm110202= frappe.db.get_value('Item Type', '1100 Grm Sq Blustor 202', 'master_price');\n\nsqbgm70304= frappe.db.get_value('Item Type', '700 Grm Sq Blustor 304', 'master_price');\nsqbgm65304= frappe.db.get_value('Item Type', '800 Grm Sq Blustor 304', 'master_price');\nsqbgm90304= frappe.db.get_value('Item Type', '900 Grm Sq Blustor 304', 'master_price');\nsqbgm110304= frappe.db.get_value('Item Type', '1100 Grm Sq Blustor 304', 'master_price');\n\nfrappe.response[\"mpillar11202\"]=mpillar11202\nfrappe.response[\"mpillar13202\"]=mpillar13202\nfrappe.response[\"mpillar15202\"]=mpillar15202\nfrappe.response[\"mpillar17202\"]=mpillar17202\nfrappe.response[\"mpillar22202\"]=mpillar22202\n\nfrappe.response[\"mpillar11304\"]=mpillar11304\nfrappe.response[\"mpillar13304\"]=mpillar13304\nfrappe.response[\"mpillar15304\"]=mpillar15304\nfrappe.response[\"mpillar17304\"]=mpillar17304\nfrappe.response[\"mpillar22304\"]=mpillar22304\n\nfrappe.response[\"rbgm55202\"]=rbgm55202\nfrappe.response[\"rbgm65202\"]=rbgm65202\nfrappe.response[\"rbgm70202\"]=rbgm70202\nfrappe.response[\"rbgm90202\"]=rbgm90202\nfrappe.response[\"rbgm110202\"]=rbgm110202\n\nfrappe.response[\"rbgm55304\"]=rbgm55304\nfrappe.response[\"rbgm65304\"]=rbgm65304\nfrappe.response[\"rbgm70304\"]=rbgm70304\nfrappe.response[\"rbgm90304\"]=rbgm90304\nfrappe.response[\"rbgm110304\"]=rbgm110304\n\nfrappe.response[\"sqbgm70202\"]=sqbgm70202\nfrappe.response[\"sqbgm65202\"]=sqbgm65202\nfrappe.response[\"sqbgm90202\"]=sqbgm90202\nfrappe.response[\"sqbgm110202\"]=sqbgm110202\n\nfrappe.response[\"sqbgm70304\"]=sqbgm70304\nfrappe.response[\"sqbgm65304\"]=sqbgm65304\nfrappe.response[\"sqbgm90304\"]=sqbgm90304\nfrappe.response[\"sqbgm110304\"]=sqbgm110304",
  "script_type": "API"
 },
 {
  "_liked_by": "[\"jignasa.chavda@sanskartechnolab.in\"]",
  "allow_guest": 0,
  "api_method": "working_hours",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-07 18:14:09.900660",
  "module": "khetan_app",
  "name": "Fetch Working hours in Timesheet",
  "reference_doctype": null,
  "script": "from_date=frappe.form_dict['from_date']\nto_date=frappe.form_dict['to_date']\nemp_nm=frappe.form_dict['emp_name']\nfrm_name=frappe.form_dict['form_name']\n\ndata = frappe.db.sql(f\"select sum(round(working_hours, 1)) from `tabAttendance` where employee_name='{ emp_nm }' and attendance_date BETWEEN '{ from_date }' AND '{ to_date }' \")\n\nfrappe.response['message'] = data;",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "purchase_invoice",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-07 18:14:09.872998",
  "module": "khetan_app",
  "name": "purchase_invoice",
  "reference_doctype": null,
  "script": "a = frappe.form_dict[\"no\"]\n\n\nitem = frappe.db.sql(\"\"\" select item_code from `tabPurchase Invoice Item` where parent=%s \"\"\",a)\nqty = frappe.db.sql(\"\"\"  select qty from `tabPurchase Invoice Item` where parent=%s \"\"\",a)\n\nitem1 = \"\"\nfor i in item:\n    for j in i:\n        if item1 == \"\":\n            item1 = j\n        else:\n            item1 = item1 + \",\" + j\n            \n# frappe.msgprint(item1)\n \n\n\nqty1 = \"\"\nfor a in qty:\n    for b in a:\n        if qty1 == \"\":\n            qty1 = b\n        else:\n            qty1 = f'{qty1}{\",\"}{b}'\nqty2 = str(qty1)\n# frappe.msgprint(qty2)      \n            \n\nfrappe.response[\"item\"]=item1\nfrappe.response[\"qty\"] = qty2\n\n\n",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "sales_invoice",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-07 18:14:09.835690",
  "module": "khetan_app",
  "name": "sales_invoice",
  "reference_doctype": null,
  "script": "a = frappe.form_dict[\"no\"]\n\n\nitem = frappe.db.sql(\"\"\" select item_code from `tabSales Invoice Item` where parent=%s \"\"\",a)\nqty = frappe.db.sql(\"\"\"  select qty from `tabSales Invoice Item` where parent=%s \"\"\",a)\n\n\nitem1 = \"\"\nfor i in item:\n    for j in i:\n        if item1 == \"\":\n            item1 = j\n        else:\n            item1 = item1 + \",\" + j\n            \n# frappe.msgprint(item1)\n \n\n\nqty1 = \"\"\nfor a in qty:\n    for b in a:\n        if qty1 == \"\":\n            qty1 = b\n        else:\n            qty1 = f'{qty1}{\",\"}{b}'\nqty2 = str(qty1)\n# frappe.msgprint(qty2)      \n            \n\n\nfrappe.response[\"item\"]=item1\nfrappe.response[\"qty\"] = qty2\n\n",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "voucher_num",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-07 18:14:09.882195",
  "module": "khetan_app",
  "name": "voucher_num",
  "reference_doctype": null,
  "script": "a = frappe.form_dict[\"no\"]\n\nitem = frappe.db.sql(\"\"\" select item_code from `tabStock Entry Detail` where parent=%s \"\"\",a)\nqty = frappe.db.sql(\"\"\" select qty from `tabStock Entry Detail` where parent=%s\"\"\",a)\n\n\nitem1 = \"\"\nfor i in item:\n    for j in i:\n        if item1 == \"\":\n            item1 = j\n        else:\n            item1 = item1 + \",\" + j\n\nqty1 = \"\"\nfor a in qty:\n    for b in a:\n        if qty1 == \"\":\n            qty1 = b\n        else:\n            qty1 = f'{qty1}{\",\"}{b}'\nqty2 = str(qty1)\n\n\n\n\n\nfrappe.response[\"item\"]=item1\nfrappe.response[\"qty\"]=qty2\n",
  "script_type": "API"
 }
]